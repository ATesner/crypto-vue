webpackJsonp([0],{0:function(t,e){},"78FQ":function(t,e,s){(function(e){t.exports={data:function(){return{imgUrl:"https://s2.coinmarketcap.com/static/img/coins/32x32/",cryptoAssets:[],cryptoSelected:null,resultSearch:[],txtSearch:"",instantListFocus:!1,dashboardList:[]}},created:function(){var t=this;this.$http.get("listings/").then(function(e){t.cryptoAssets=e.body.data,localStorage.getItem("dashboardList")?(t.dashboardList=JSON.parse(localStorage.getItem("dashboardList")),console.log("DASHBOARD LIST",t.dashboardList)):t.dashboardList=[],setInterval(t.updateRates,6e4)})},methods:{searchCrypto:function(t){var e=this;this.cryptoAssets.length>0&&this.txtSearch.length>=2?(document.querySelector(".instant-result-list").style.display="block",this.resultSearch=this.cryptoAssets.filter(function(t){return t.name.toLowerCase().includes(e.txtSearch.toLowerCase())||t.symbol.toLowerCase().includes(e.txtSearch.toLowerCase())})):(this.resultSearch=[],document.querySelector(".instant-result-list").style.display="none")},clickSearch:function(t){t.preventDefault(),document.querySelector(".search-form").classList.toggle("active"),document.querySelector(".instant-result-list").style.display="none",document.querySelector("input").focus()},blurSearch:function(){this.instantListFocus||(document.querySelector(".instant-result-list").style.display="none"),0==document.querySelector("#search-input").value.length&&document.querySelector(".search-form").classList.remove("active")},leaveInstantList:function(){this.instantListFocus=!1,document.querySelector(".instant-result-list").style.display="none"},hoverInstantList:function(){this.instantListFocus=!0},focusSearch:function(){document.querySelector("#search-input").value.length>2&&document.querySelector(".search-form").classList.contains("active")&&(document.querySelector(".instant-result-list").style.display="block")},clickResult:function(t){var e=this;this.cryptoSelected=t,this.$http.get("ticker/"+t.id+"/?convert=EUR").then(function(s){var a=s.body.data;e.cryptoSelected.price=a.quotes.EUR.price,document.querySelector("#asset-overview-image").src=e.imgUrl+t.id+".png",document.querySelector("#asset-overview-name").innerHTML=t.name+" ("+t.symbol+")",document.querySelector("#asset-overview-price").innerHTML=a.quotes.EUR.price})},addCrypto:function(){this.dashboardList.push(this.cryptoSelected),this.saveDashboardList()},deleteCrypto:function(t){this.dashboardList.splice(t,1),this.saveDashboardList()},reinitDashboard:function(){this.dashboardList=[],localStorage.setItem("dashboardList",void 0)},updateRates:function(){for(var t=this,e=function(e){t.$http.get("ticker/"+t.dashboardList[e].id+"/?convert=EUR").then(function(s){console.log("Asset UPDATE",s);var a=s.body.data;t.dashboardList[e].price=a.quotes.EUR.price,t.saveDashboardList()})},s=0;s<this.dashboardList.length;s++)e(s)},saveDashboardList:function(){var t=e.JSON.stringify(this.dashboardList);localStorage.setItem("dashboardList",t)}}}}).call(e,s("DuR2"))},M93x:function(t,e,s){"use strict";var a=s("78FQ"),i=s.n(a),r=s("ndnd");var o=function(t){s("elzG")},n=s("VU/8")(i.a,r.a,!1,o,null,null);e.default=n.exports},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i=s("M93x"),r=s("8+8L");a.a.config.productionTip=!1,a.a.use(r.a),a.a.http.options.root="https://api.coinmarketcap.com/v2/",a.a.http.headers.common.Accept="application/json",a.a.component("app-item",{props:["name","symbol"],template:"<div><strong>{{name}}</strong>  ({{symbol}})</div>"}),new a.a({el:"#app",components:{App:i.default},template:"<App/>"})},elzG:function(t,e){},ndnd:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",{attrs:{id:"navbar"}},[s("h1",[t._v("CRYPTO VUE")]),t._v(" "),s("div",{staticClass:"search-form"},[s("form",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.txtSearch,expression:"txtSearch"}],attrs:{id:"search-input",type:"text",maxlength:"10",placeholder:"Search Crypto"},domProps:{value:t.txtSearch},on:{blur:t.blurSearch,focus:t.focusSearch,keyup:t.searchCrypto,mouseover:t.focusSearch,input:function(e){e.target.composing||(t.txtSearch=e.target.value)}}}),t._v(" "),s("button",{staticClass:"search-button",on:{click:t.clickSearch}}),t._v(" "),s("ul",{staticClass:"instant-result-list",on:{mouseover:t.hoverInstantList,mouseleave:t.leaveInstantList}},t._l(t.resultSearch,function(e,a){return s("li",{key:a,staticClass:"instant-result-item"},[s("app-item",{attrs:{name:e.name,symbol:e.symbol},nativeOn:{click:function(s){t.clickResult(e)}}})],1)}))]),t._v(" "),s("h2",{attrs:{id:"search-label"},on:{click:t.clickSearch}},[t._v("Search")])])]),t._v(" "),s("div",{staticClass:"dashboard-container"},[s("div",{staticClass:"asset-overview"},[s("img",{attrs:{id:"asset-overview-image",src:""}}),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"asset-overview-actions"},[t.cryptoSelected?s("button",{staticClass:"mybtn add-btn",on:{click:t.addCrypto}},[t._v("Ajouter au dashboard")]):t._e(),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),t.dashboardList.length>0?s("button",{staticClass:"mybtn clear-btn",on:{click:t.reinitDashboard}},[t._v("Réinitialiser dashboard")]):t._e()])]),t._v(" "),s("ul",{attrs:{id:"dashboard-list"}},t._l(t.dashboardList,function(e,a){return s("li",{key:a,staticClass:"dashboard-item"},[s("div",{staticClass:"dashboard-item-info"},[s("h4",[s("img",{attrs:{src:t.imgUrl+e.id+".png"}}),t._v(" "+t._s(e.name))]),t._v(" "),s("div",[t._v(t._s(e.price)+" €")])]),t._v(" "),s("button",{staticClass:"mybtn delete-btn",on:{click:function(e){t.deleteCrypto(a)}}},[t._v("Delete")])])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"asset-overview-panel"},[e("h4",{attrs:{id:"asset-overview-name"}}),this._v(" "),e("div",{attrs:{id:"asset-overview-price"}})])}]};e.a=a}},["NHnr"]);
//# sourceMappingURL=app.c528491c75e6542cbe1c.js.map