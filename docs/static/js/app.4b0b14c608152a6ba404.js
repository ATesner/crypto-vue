webpackJsonp([0],{0:function(t,e){},"78FQ":function(t,e,s){(function(e){var r=s("s+iZ").currencies;t.exports={data:function(){return{imgUrl:"https://s2.coinmarketcap.com/static/img/coins/64x64/",cryptoAssets:[],cryptoSelected:null,resultSearch:[],txtSearch:"",instantListFocus:!1,dashboardList:[],currencies:r,currency:r[0],updating:!1}},created:function(){var t=this;this.$http.get("listings/").then(function(e){t.cryptoAssets=e.body.data,localStorage.getItem("dashboardList")?(t.dashboardList=JSON.parse(localStorage.getItem("dashboardList")),null!=localStorage.getItem("currency")&&(console.log("search currency",localStorage.getItem("currency")),t.currency=t.currencies.find(function(t){return t.name==localStorage.getItem("currency")})),console.log("DASHBOARD LIST",t.dashboardList,"Currency",t.currency,"Currencies",r)):t.dashboardList=[],setInterval(t.updateRates,6e4)})},methods:{searchCrypto:function(t){var e=this;this.cryptoAssets.length>0&&this.txtSearch.length>=2?(document.querySelector(".instant-result-list").style.display="block",this.resultSearch=this.cryptoAssets.filter(function(t){return t.name.toLowerCase().includes(e.txtSearch.toLowerCase())||t.symbol.toLowerCase().includes(e.txtSearch.toLowerCase())})):(this.resultSearch=[],document.querySelector(".instant-result-list").style.display="none")},clickSearch:function(t){t.preventDefault(),document.querySelector(".search-form").classList.toggle("active"),document.querySelector(".instant-result-list").style.display="none",document.querySelector("input").focus()},blurSearch:function(){this.instantListFocus||(document.querySelector(".instant-result-list").style.display="none"),0==document.querySelector("#search-input").value.length&&document.querySelector(".search-form").classList.remove("active")},leaveInstantList:function(){this.instantListFocus=!1,document.querySelector(".instant-result-list").style.display="none"},hoverInstantList:function(){this.instantListFocus=!0},focusSearch:function(){document.querySelector("#search-input").value.length>2&&document.querySelector(".search-form").classList.contains("active")&&(document.querySelector(".instant-result-list").style.display="block")},clickResult:function(t){var e=this;this.$http.get("ticker/"+t.id+"/?convert=EUR").then(function(s){t.price=s.body.data.quotes[e.currency.name].price,t.market_cap=s.body.data.quotes[e.currency.name].market_cap,t.img=e.imgUrl+t.id+".png",e.cryptoSelected=t})},addCrypto:function(){this.cryptoAlreadyAdded(this.cryptoSelected)||(this.dashboardList.push(this.cryptoSelected),this.saveDashboardList())},cryptoAlreadyAdded:function(t){return!!this.dashboardList.find(function(e){return e.id==t.id})},deleteCrypto:function(t){window.confirm("Delete this asset ? "+this.dashboardList[t].name)&&(this.dashboardList.splice(t,1),this.saveDashboardList())},reinitDashboard:function(){window.confirm("Delete all dashboard assets ?")&&(this.dashboardList=[],localStorage.setItem("dashboardList",void 0),this.saveDashboardList())},updateRates:function(){var t=this;if(!this.updating){this.updating=!0;for(var e=function(e){t.$http.get("ticker/"+t.dashboardList[e].id+"/?convert="+t.currency.name).then(function(s){var r=s.body.data;t.dashboardList[e].price=r.quotes[t.currency.name].price,t.saveDashboardList()})},s=0;s<this.dashboardList.length;s++)e(s);null!=this.cryptoSelected?this.$http.get("ticker/"+this.cryptoSelected.id+"/?convert="+this.currency.name).then(function(e){t.cryptoSelected.price=e.body.data.quotes[t.currency.name].price,console.log("UPDATE cryptoSelected",t.cryptoSelected),t.updating=!1}):this.updating=!1}},saveDashboardList:function(){var t=e.JSON.stringify(this.dashboardList);localStorage.setItem("dashboardList",t),localStorage.setItem("currency",this.currency.name)},currencyChange:function(){this.updateRates()}}}}).call(e,s("DuR2"))},M93x:function(t,e,s){"use strict";var r=s("78FQ"),a=s.n(r),c=s("h2sJ");var n=function(t){s("ourt")},i=s("VU/8")(a.a,c.a,!1,n,null,null);e.default=i.exports},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("7+uW"),a=s("M93x"),c=s("8+8L");r.a.config.productionTip=!1,r.a.use(c.a),r.a.http.options.root="https://api.coinmarketcap.com/v2/",r.a.http.headers.common.Accept="application/json",r.a.component("app-item",{props:["name","symbol"],template:"<div><strong>{{name}}</strong>  ({{symbol}})</div>"});new r.a({el:"#app",components:{App:a.default},template:"<App/>"})},h2sJ:function(t,e,s){"use strict";var r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",{attrs:{id:"navbar"}},[s("h1",[t._v("CRYPTO VUE")]),t._v(" "),s("div",{staticClass:"search-form"},[s("form",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.txtSearch,expression:"txtSearch"}],attrs:{id:"search-input",type:"text",maxlength:"10",placeholder:"Search Crypto"},domProps:{value:t.txtSearch},on:{blur:t.blurSearch,focus:t.focusSearch,keyup:t.searchCrypto,mouseover:t.focusSearch,input:function(e){e.target.composing||(t.txtSearch=e.target.value)}}}),t._v(" "),s("button",{staticClass:"search-button",on:{click:t.clickSearch}}),t._v(" "),s("ul",{staticClass:"instant-result-list",on:{mouseover:t.hoverInstantList,mouseleave:t.leaveInstantList}},t._l(t.resultSearch,function(e,r){return s("li",{key:r,staticClass:"instant-result-item"},[s("app-item",{attrs:{name:e.name,symbol:e.symbol},nativeOn:{click:function(s){t.clickResult(e)}}})],1)}))]),t._v(" "),s("h2",{attrs:{id:"search-label"},on:{click:t.clickSearch}},[t._v("Search")])])]),t._v(" "),s("div",{staticClass:"dashboard-container"},[s("div",{staticClass:"dashboard-header"},[t.cryptoSelected?s("div",{staticClass:"asset-overview"},[s("img",{attrs:{src:t.cryptoSelected.img}}),t._v(" "),s("div",{staticClass:"asset-overview-panel"},[s("label",[s("strong",[t._v(t._s(t.cryptoSelected.name))])]),t._v(" "),s("div",[t._v(t._s(t.cryptoSelected.price)+" "+t._s(t.currency.symbol))])]),t._v(" "),t.cryptoSelected?[t.cryptoAlreadyAdded(t.cryptoSelected)?s("label",[t._v("Asset already added")]):s("button",{staticClass:"mybtn add-btn",on:{click:t.addCrypto}},[t._v("Add to dashboard")])]:t._e()],2):t._e(),t._v(" "),s("div",{staticClass:"config-panel"},[t.dashboardList.length>0?s("button",{staticClass:"mybtn clear-btn",on:{click:t.reinitDashboard}},[t._v("\n          Reset dashboard\n        ")]):t._e(),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),t._m(0),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.currency,expression:"currency"}],on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.currency=e.target.multiple?s:s[0]},t.currencyChange]}},t._l(t.currencies,function(e,r){return s("option",{key:r,domProps:{value:e,selected:t.currency.name==e.name?"selected":""}},[t._v(t._s(e.name))])}))])]),t._v(" "),s("ul",{attrs:{id:"dashboard-list"}},t._l(t.dashboardList,function(e,r){return s("li",{key:r,staticClass:"dashboard-item"},[s("img",{staticClass:"dashboard-item-image",attrs:{src:t.imgUrl+e.id+".png"}}),t._v(" "),s("div",{staticClass:"dashboard-item-info"},[s("label",[s("strong",[t._v(" "+t._s(e.name)+" ("+t._s(e.symbol)+")")])]),t._v(" "),s("div",[t._v(t._s(e.price)+" "+t._s(t.currency.symbol))])]),t._v(" "),s("div",[t._m(1,!0),t._v(" "),s("div",[t._v(t._s(e.market_cap)+"  "+t._s(t.currency.symbol))])]),t._v(" "),s("button",{staticClass:"mybtn delete-btn",on:{click:function(e){t.deleteCrypto(r)}}},[t._v("Delete")])])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("strong",[this._v("Select a currency : ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("strong",[this._v("Market Cap")])])}]};e.a=r},ourt:function(t,e){},"s+iZ":function(t,e){t.exports={currencies:[{name:"USD",symbol:"$"},{name:"EUR",symbol:"â‚¬"}]}}},["NHnr"]);
//# sourceMappingURL=app.4b0b14c608152a6ba404.js.map