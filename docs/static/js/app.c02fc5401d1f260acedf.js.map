{"version":3,"sources":["webpack:///./src/main.js","webpack:///./src/App.js"],"names":["Object","defineProperty","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","n","__WEBPACK_IMPORTED_MODULE_2_vue_resource__","Vue","config","productionTip","use","VueResource","http","options","root","headers","common","component","props","template","el","components","App","module","exports","data","imgUrl","cryptoAssets","cryptoSelected","resultSearch","txtSearch","instantListFocus","dashboardList","created","_this","this","$http","get","then","response","body","localStorage","getItem","JSON","parse","console","log","setInterval","updateRates","methods","searchCrypto","e","_this2","length","document","querySelector","style","display","filter","asset","name","toLowerCase","includes","symbol","clickSearch","preventDefault","classList","toggle","focus","blurSearch","remove","leaveInstantList","hoverInstantList","focusSearch","contains","clickResult","crypto","_this3","id","price","quotes","EUR","src","innerHTML","addCrypto","push","saveDashboardList","deleteCrypto","index","splice","reinitDashboard","setItem","undefined","_this4","_loop","i","parsed","global","stringify"],"mappings":"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","file":"static/js/app.c02fc5401d1f260acedf.js","sourcesContent":["import Vue from 'vue'\nimport App from './App'\nimport VueResource from 'vue-resource';\nVue.config.productionTip = false\nVue.use(VueResource);\n//https://docs.coinapi.io/#list-all-assets\nVue.http.options.root = 'https://api.coinmarketcap.com/v2/';\n//Vue.http.headers.common['X-CoinAPI-Key'] = '67A6161D-F28A-4CAC-944D-8D392FEEC26B';\nVue.http.headers.common['Accept'] = 'application/json';\n\nVue.component('app-item', {\n  props: ['name', 'symbol'],\n  template: '<div><strong>{{name}}</strong>  ({{symbol}})</div>'\n})\n\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = {\r\n  data: function() {\r\n    return {\r\n        imgUrl: \"https://s2.coinmarketcap.com/static/img/coins/32x32/\",\r\n        cryptoAssets: [],\r\n        cryptoSelected: null,\r\n        resultSearch: [],\r\n        txtSearch: \"\",\r\n        instantListFocus: false,\r\n        dashboardList: []\r\n    }\r\n  },\r\n  created: function() {\r\n    this.$http.get('listings/').then((response) => {\r\n      //console.log('all assets', response);\r\n      this.cryptoAssets = response.body.data;\r\n      if(localStorage.getItem('dashboardList')){\r\n        this.dashboardList = JSON.parse(localStorage.getItem('dashboardList'));\r\n        console.log('DASHBOARD LIST', this.dashboardList)\r\n      }else{\r\n        this.dashboardList = [];\r\n      }\r\n      setInterval(this.updateRates, 60000);\r\n    });\r\n  },\r\n  methods: {\r\n    searchCrypto: function(e) {\r\n      if(this.cryptoAssets.length > 0 && this.txtSearch.length >= 2){\r\n        document.querySelector('.instant-result-list').style.display = \"block\";\r\n\r\n        this.resultSearch = this.cryptoAssets.filter(asset => (\r\n          asset.name.toLowerCase().includes(this.txtSearch.toLowerCase()) ||  \r\n          asset.symbol.toLowerCase().includes(this.txtSearch.toLowerCase())\r\n        )) \r\n        //console.log('Asset Find', this.resultSearch)\r\n\r\n      }else{\r\n        this.resultSearch = [];\r\n        document.querySelector('.instant-result-list').style.display = \"none\";\r\n      }\r\n    },\r\n    clickSearch : function(e) {\r\n        e.preventDefault();\r\n        document.querySelector('.search-form').classList.toggle('active');\r\n        document.querySelector('.instant-result-list').style.display = \"none\";\r\n        document.querySelector('input').focus();\r\n    },\r\n    blurSearch: function() {\r\n      if(!this.instantListFocus) document.querySelector('.instant-result-list').style.display = \"none\";\r\n      if(document.querySelector('#search-input').value.length == 0 ){\r\n        document.querySelector('.search-form').classList.remove('active');\r\n      }\r\n    },\r\n    leaveInstantList: function() { \r\n      //console.log('Instant List Focus OFF')\r\n      this.instantListFocus = false;\r\n      document.querySelector('.instant-result-list').style.display = \"none\";\r\n       \r\n    },\r\n    hoverInstantList: function() { \r\n      //console.log('Instant List Focus ON')\r\n      this.instantListFocus = true;\r\n    },\r\n    focusSearch : function() {\r\n      if(document.querySelector('#search-input').value.length > 2 &&\r\n        document.querySelector('.search-form').classList.contains('active')){\r\n        document.querySelector('.instant-result-list').style.display = \"block\";\r\n      }\r\n    },\r\n    clickResult : function(crypto) {\r\n        //console.log('Click on ' + crypto.name)\r\n        this.cryptoSelected = crypto;\r\n        this.$http.get('ticker/'+crypto.id+'/?convert=EUR').then((response) => {\r\n                //console.log('Asset Overview',response);\r\n                let data = response.body.data;\r\n                this.cryptoSelected.price = data.quotes.EUR.price;\r\n                document.querySelector('#asset-overview-image').src = this.imgUrl+crypto.id+\".png\";\r\n                document.querySelector('#asset-overview-name').innerHTML = crypto.name + ' (' + crypto.symbol + ')';\r\n                document.querySelector('#asset-overview-price').innerHTML = data.quotes.EUR.price;\r\n        });\r\n    },\r\n    addCrypto : function() {\r\n      this.dashboardList.push(this.cryptoSelected)\r\n      this.saveDashboardList();\r\n    },\r\n    deleteCrypto: function(index) {\r\n        //console.log('DELETE CRYPTO', index, this.dashboardList[index].name, this.dashboardList)\r\n        this.dashboardList.splice(index, 1);\r\n        this.saveDashboardList();\r\n    },\r\n    reinitDashboard: function() {\r\n      this.dashboardList = [];\r\n      localStorage.setItem('dashboardList', undefined);\r\n    },\r\n    updateRates: function() {\r\n\r\n      for(let i=0; i<this.dashboardList.length; i++){\r\n        //console.log('UPDATERATES')\r\n        this.$http.get('ticker/'+ this.dashboardList[i].id +'/?convert=EUR').then((response) => {\r\n            console.log('Asset UPDATE',response);\r\n          let data = response.body.data;\r\n          this.dashboardList[i].price = data.quotes.EUR.price;\r\n          this.saveDashboardList();\r\n        });\r\n      }\r\n    },\r\n    saveDashboardList: function() {\r\n      //console.log('Save DashboardList')\r\n      var parsed = global.JSON.stringify(this.dashboardList);\r\n      localStorage.setItem('dashboardList', parsed);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.js"],"sourceRoot":""}